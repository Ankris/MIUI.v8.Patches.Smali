appfile <Settings.apk>;

# Volume buttons switch tracks
replaceinfile "%smali%/com/android/settings/KeySettings.smali"    		"instance fields"																	"instance fields \n .field private mVolumeSkipTrack:Landroid/preference/CheckBoxPreference;\n";
replaceinmethod "%smali%/com/android/settings/KeySettings.smali" 		".method private updateState(Z)V" 															".prologue" 						".prologue \n    iget-object v3, p0, Lcom/android/settings/KeySettings;->mVolumeSkipTrack:Landroid/preference/CheckBoxPreference;\n    const-string/jumbo v4, "persist.sys.volume.skip"\n    const/4 v0, 0x0\n    invoke-static {v4, v0}, Landroid/os/SystemProperties;->getBoolean(Ljava/lang/String;Z)Z\n    move-result v0\n    invoke-virtual {v3, v0}, Landroid/preference/CheckBoxPreference;->setChecked(Z)V";
replaceinmethod "%smali%/com/android/settings/KeySettings.smali" 		".method public onPreferenceTreeClick(Landroid/preference/PreferenceScreen;Landroid/preference/Preference;)Z" 	".prologue" 				".prologue \n    iget-object v2, p0, Lcom/android/settings/KeySettings;->mVolumeSkipTrack:Landroid/preference/CheckBoxPreference;\n    if-ne p2, v2, :cond_20\n    const-string v3, "false"\n    const-string v4, "persist.sys.volume.skip"\n    invoke-virtual {v2}, Landroid/preference/CheckBoxPreference;->isChecked()Z\n    move-result v2\n    if-eqz v2, :cond_19\n    const-string v3, "true"\n    :cond_19\n    invoke-static {v4, v3}, Landroid/os/SystemProperties;->set(Ljava/lang/String;Ljava/lang/String;)V\n    goto :goto_1\n    :cond_20";
replaceinmethod "%smali%/com/android/settings/KeySettings.smali" 		".method public onCreate(Landroid/os/Bundle;)V" 													"return-void" 						"const-string v0, "volume_skip_track"\n    invoke-virtual {p0, v0}, Lcom/android/settings/KeySettings;->findPreference(Ljava/lang/CharSequence;)Landroid/preference/Preference;\n    move-result-object v0\n    check-cast v0, Landroid/preference/CheckBoxPreference;\n    iput-object v0, p0, Lcom/android/settings/KeySettings;->mVolumeSkipTrack:Landroid/preference/CheckBoxPreference;\n    return-void";
replaceinfile "%res%/xml/key_settings.xml"    					"pref_volume_wake_summary" />" 																"pref_volume_wake_summary" /> \n        <CheckBoxPreference android:title="@string/volume_skip_track_title" android:key="volume_skip_track" android:summary="@string/volume_skip_track_summary" />";
